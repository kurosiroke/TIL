画面にnginxが出ている場合のエラー対処やヒントの見つけ方

sudo tail -f /var/log/nginx/error.log

上記でnginx系のエラーを見ることが出来るので、そこからヒントを得られる



画面にnginxとは出てきてない、Railsっぽいエラー画面の場合
和訳したときに "何か問題が発生しました"的なゆるいエラーメッセージの場合
cd 自分のアプリケーション名
tail -f log/production.log
上記でエラーメッセージを確認出来るので、ヒントを得て対処する

------


タイムアウトに関する情報が各種ログの中で見つかった場合
和訳したときに、応答が無いです的なニュアンスの英語だった場合は、タイムアウトと呼ばれる現象の可能性が高い
可能性として見直したいのが、データの件数がとてもおおいとか、画像とかが大量にあるとか、ハッキングbotによる無作為のアクセスの標的になっているか
あたりが有力です

ここでこれらを踏まえて調査しておくとヒントになるのが、

・時間帯
・再現性

この2つが重要

時間帯とは、特定の時間帯でのみエラーや問題等が発生するか調査する
再現性とは、特定のクリックや挙動をした時に、同じようにエラーや問題が発生するか？

------


はっきんぐによる無作為アクセスの対処としては、国によるipアドレス制限が良いかもしれません
AWSのec2に設定されているインバウンドルールの設定に手を加えたり、他のAWSの設定を変更する事でも対処が可能なので頻発するなら検索して試してみてください

